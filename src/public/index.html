<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>canvas.run</title>
<link rel="stylesheet/less" type="text/css" href="editor.less">
<script src="vendor/less/dist/less.min.js"></script>
<script src="vendor/lodash/lodash.min.js"></script>
<script src="vendor/ace-builds/src-min-noconflict/ace.js"></script>
<script src="vendor/ace-builds/src-min-noconflict/mode-javascript.js"></script>
</head>
<body>
<div id="header">
  <button id="save">Save</button>
</div>
<div id="editor"></div>
<div id="rendering"></div>
<div id="output">
  <canvas id="canvas"></canvas>
  <pre id="error"></pre>
</div>
<script type="text/default" id="default">// Here, you're writing the contents of a function with the following signature:
// function render(canvas, t)

// Get the context you want from the "canvas" argument
var ctx = canvas.getContext('2d');

// The "t" argument gives you the milliseconds since the animation started
ctx.fillStyle = 'hsl(200, ' + Math.floor((Math.sin(t / 500) + 1) * 50) + '%, 50%)';
ctx.globalAlpha = 0.3;
ctx.fillRect(0, 0, canvas.width, canvas.height);
ctx.globalAlpha = 1;

// You can store state in "this"
if (isNaN(this.x)) {
  this.x = canvas.width / 2;
  this.y = canvas.height / 5;
  this.vx = 2;
  this.vy = 0;
}

var radius = 10;

ctx.fillStyle = '#fff';
ctx.beginPath();
ctx.arc(this.x, this.y, radius, 0, 2 * Math.PI, false);
ctx.fill();

this.x += this.vx;
this.y += this.vy;

if (this.x < radius || this.x >= canvas.width - radius) {
  this.vx = -this.vx;
  this.x += this.vx;
}

if (this.y < radius || this.y >= canvas.height - radius) {
  this.vy = -this.vy;
  this.y += this.vy;
}

this.vy += 0.2;</script>
<script src="editor.js"></script>
</body>
</html>
