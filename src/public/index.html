<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>CanvasRun</title>
<link rel="stylesheet/less" type="text/css" href="editor.less">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Varela+Round">
<script src="vendor/less/dist/less.min.js"></script>
<script src="vendor/lodash/lodash.min.js"></script>
<script src="vendor/ace-builds/src-min-noconflict/ace.js"></script>
<script src="vendor/ace-builds/src-min-noconflict/mode-javascript.js"></script>
<script src="vendor/ace-builds/src-min-noconflict/theme-monokai.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85174394-1', 'auto');
  ga('send', 'pageview');
</script>
</head>
<body>
<header>
  <h1><a href="/">CanvasRun</a></h1><!--
  --><button id="save" class="-accent-1">Save</button><!--
  --><button id="reset-state" class="-accent-2">Reset State</button><!--
  --><button id="toggle-layout" class="-accent-3">Toggle Layout</button>
</header>
<main id="main" class="-horizontal-split">
  <div id="editor-pane"></div>
  <div id="splitter">
    <div id="splitter-handle"></div>
  </div>
  <div id="output-pane">
    <div id="canvas-wrapper">
      <canvas id="canvas"></canvas>
    </div>
    <div id="error"></div>
  </div>
</main>
<script type="text/default" id="default">// Here, you're writing the contents of a function with the following signature:
// function render(canvas, state, t)

// Get the context you want from the "canvas" argument
var ctx = canvas.getContext('2d');

ctx.fillStyle = '#000';
ctx.globalAlpha = 0.2;
ctx.fillRect(0, 0, canvas.width, canvas.height);
ctx.globalAlpha = 1;

// You can store state in "state"
if (isNaN(state.x)) {
  state.x = canvas.width / 2;
  state.y = canvas.height / 5;
  state.vx = 2;
  state.vy = 0;
}

// The "t" argument gives you the milliseconds since the animation started
var radius = (Math.sin(t / 500) + 1) * 5 + 5;
var hue = (t / 100) % 360;

ctx.fillStyle = 'hsl(' + hue + ', 100%, 50%)';
ctx.beginPath();
ctx.arc(state.x, state.y, radius, 0, 2 * Math.PI, false);
ctx.fill();

state.x += state.vx;
state.y += state.vy;

if (state.x < radius || state.x >= canvas.width - radius) {
  state.vx = -state.vx;
  state.x += state.vx;
}

if (state.y < radius || state.y >= canvas.height - radius) {
  state.vy = -state.vy;
  state.y += state.vy;
}

var gravity = 0.2;

state.vy += gravity;</script>
<script src="editor.js"></script>
</body>
</html>
